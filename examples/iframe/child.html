<html>
  <head>
    <title>Child page</title>
    <meta charset="utf8" />
    <meta name="viewport" content="width=device-width" />
  </head>
  <body>
    <div id="game">Hello, there</div>
    <style>
      html {
        color: white;
      }
    </style>
    <script type="module">
      import { iruntime } from '@robb_j/gamedoy'

      const version = window.frameElement?.dataset.gamedoy
      if (version !== 'v1') return

      let score = 0
      const runtime = iruntime(window)

      runtime.controls.onKeyDown('A', () => {
        runtime.finish({ score })
      })
      runtime.controls.onKeyUp('B', () => {
        score++
      })

      setTimeout(() => {
        game.textContent += ' ... General Kenobi'
      }, 2000)
    </script>
  </body>
</html>
